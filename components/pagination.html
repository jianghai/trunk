<div class="demo flex-1">
<div id="pagination" style="text-align:left"></div>
<!-- 依赖分页模版-->
<script id="template-pagination" type="text">
  <ul class="pagination">
    <li>
      <# if (data.current > 1) { #>
        <a href="#" data-page="prev" class="page">&lt;</a><
      # } else { #>
        <span class="not-page disabled">&lt;</span>
      <# } #>
    </li>
    <# if (data.start !== 1 ) { #>
      <# for (var i = 1; i <= 2; i++) { #>
        <li>
          <a href="#" data-page="<#- i #>" class="page"><#- i #></a>
        </li>
      <# } #>
      <li>
        <div class="not-page">...</div>
      </li>
    <# } #>
    <# for (var i = data.start; i <= data.end; i++) { #>
      <li class="<#- data.current === i && 'active' || '' #>">
        <a href="#" data-page="<#- i #>" class="page"><#- i #></a>
      </li>
    <# } #>
    <# if (data.end !== data.counts) { #>
      <li>
        <div class="not-page">...</div>
      </li>
    <# } #>
    <li>
      <# if (data.current < data.counts) { #>
        <a href="#" data-page="next" class="page">&gt;</a>
      <# } else { #>
        <span class="not-page disabled">&gt;</span>
      <# } #>
    </li>
    <li>
      <div class="not-page">共 <#- data.counts #> 页</div>
    </li>
    <li>
      <form>
        <label>跳转到第</label>
        <input type="text" autocomplete="off" name="page" class="sm"/>页
        <button type="submit" class="btn sm primary">确定</button>
      </form>
    </li>
  </ul>
</script></div><div class="tab flex-1 code"><div><button class="tab-nav active">JavaScript</button><button class="tab-nav">HTML</button></div><div class="tab-content"><pre class="tab-item active">require([<br>  <span class="str">'Trunk'</span>,<br>  <span class="str">'Pagination'</span><br>], <span class="kwd">function</span>(Trunk, Pagination) {<br>  <br>  <span class="kwd">var</span> pagination <span class="opt">=</span> <span class="kwd">new</span> Pagination({<br>    el: <span class="str">'#pagination'</span><br>  })<br>  <br>  pagination.model.reset({<br>    current: <span class="num">1</span>, <span class="com">// 当前页</span><br>    counts: <span class="num">20</span> <span class="com">// 总页数</span><br>  })<br><br>  <span class="com">// 跟其他组件关联</span><br>  <span class="kwd">var</span> list <span class="opt">=</span> <span class="kwd">new</span> Trunk()<br>  list.listen(pagination.model, <span class="str">'change:current'</span>, <span class="kwd">function</span>(current) {<br>    <span class="com">// 列表重新查询</span><br>    <span class="com">// list.model.setParam('current', current) </span><br>    <br>    <span class="com">// 列表数据可能变化，重新渲染分页 </span><br>    pagination.model.reset({<br>      current: current,<br>      counts: <span class="num">20</span><br>    })<br>  })<br>})</pre><pre class="tab-item"><span class="tag">&lt;div</span> <span class="attr">id=</span><span class="str">"pagination"</span> <span class="attr">style=</span><span class="str">"text-align:left"</span><span class="tag">></span><span class="tag">&lt;/div</span><span class="tag">></span><br><span class="com">&lt;!-- 依赖分页模版--></span><br><span class="tag">&lt;script</span> <span class="attr">id=</span><span class="str">"template-pagination"</span> <span class="attr">type=</span><span class="str">"text"</span><span class="tag">></span><br>  <span class="tag">&lt;ul</span> <span class="attr">class=</span><span class="str">"pagination"</span><span class="tag">></span><br>    <span class="tag">&lt;li</span><span class="tag">></span><br>      <# if (data.current <span class="tag">></span> 1) { #<span class="tag">></span><br>        <span class="tag">&lt;a</span> <span class="attr">href=</span><span class="str">"#"</span> <span class="attr">data-page=</span><span class="str">"prev"</span> <span class="attr">class=</span><span class="str">"page"</span><span class="tag">></span>&lt;<span class="tag">&lt;/a</span><span class="tag">></span><<br>      # } else { #<span class="tag">></span><br>        <span class="tag">&lt;span</span> <span class="attr">class=</span><span class="str">"not-page disabled"</span><span class="tag">></span>&lt;<span class="tag">&lt;/span</span><span class="tag">></span><br>      <# } #<span class="tag">></span><br>    <span class="tag">&lt;/li</span><span class="tag">></span><br>    <# if (data.start !== 1 ) { #<span class="tag">></span><br>      <# for (var i = 1; i <= 2; i++) { #<span class="tag">></span><br>        <span class="tag">&lt;li</span><span class="tag">></span><br>          <span class="tag">&lt;a</span> <span class="attr">href=</span><span class="str">"#"</span> <span class="attr">data-page=</span><span class="str">"<#- i #>"</span> <span class="attr">class=</span><span class="str">"page"</span><span class="tag">></span><#- i #<span class="tag">></span><span class="tag">&lt;/a</span><span class="tag">></span><br>        <span class="tag">&lt;/li</span><span class="tag">></span><br>      <# } #<span class="tag">></span><br>      <span class="tag">&lt;li</span><span class="tag">></span><br>        <span class="tag">&lt;div</span> <span class="attr">class=</span><span class="str">"not-page"</span><span class="tag">></span>...<span class="tag">&lt;/div</span><span class="tag">></span><br>      <span class="tag">&lt;/li</span><span class="tag">></span><br>    <# } #<span class="tag">></span><br>    <# for (var i = data.start; i <= data.end; i++) { #<span class="tag">></span><br>      <span class="tag">&lt;li</span> <span class="attr">class=</span><span class="str">"<#- data.current === i && 'active' || '' #>"</span><span class="tag">></span><br>        <span class="tag">&lt;a</span> <span class="attr">href=</span><span class="str">"#"</span> <span class="attr">data-page=</span><span class="str">"<#- i #>"</span> <span class="attr">class=</span><span class="str">"page"</span><span class="tag">></span><#- i #<span class="tag">></span><span class="tag">&lt;/a</span><span class="tag">></span><br>      <span class="tag">&lt;/li</span><span class="tag">></span><br>    <# } #<span class="tag">></span><br>    <# if (data.end !== data.counts) { #<span class="tag">></span><br>      <span class="tag">&lt;li</span><span class="tag">></span><br>        <span class="tag">&lt;div</span> <span class="attr">class=</span><span class="str">"not-page"</span><span class="tag">></span>...<span class="tag">&lt;/div</span><span class="tag">></span><br>      <span class="tag">&lt;/li</span><span class="tag">></span><br>    <# } #<span class="tag">></span><br>    <span class="tag">&lt;li</span><span class="tag">></span><br>      <# if (data.current < data.counts) { #<span class="tag">></span><br>        <span class="tag">&lt;a</span> <span class="attr">href=</span><span class="str">"#"</span> <span class="attr">data-page=</span><span class="str">"next"</span> <span class="attr">class=</span><span class="str">"page"</span><span class="tag">></span>&gt;<span class="tag">&lt;/a</span><span class="tag">></span><br>      <# } else { #<span class="tag">></span><br>        <span class="tag">&lt;span</span> <span class="attr">class=</span><span class="str">"not-page disabled"</span><span class="tag">></span>&gt;<span class="tag">&lt;/span</span><span class="tag">></span><br>      <# } #<span class="tag">></span><br>    <span class="tag">&lt;/li</span><span class="tag">></span><br>    <span class="tag">&lt;li</span><span class="tag">></span><br>      <span class="tag">&lt;div</span> <span class="attr">class=</span><span class="str">"not-page"</span><span class="tag">></span>共 <#- data.counts #<span class="tag">></span> 页<span class="tag">&lt;/div</span><span class="tag">></span><br>    <span class="tag">&lt;/li</span><span class="tag">></span><br>    <span class="tag">&lt;li</span><span class="tag">></span><br>      <span class="tag">&lt;form</span><span class="tag">></span><br>        <span class="tag">&lt;label</span><span class="tag">></span>跳转到第<span class="tag">&lt;/label</span><span class="tag">></span><br>        <span class="tag">&lt;input</span> <span class="attr">type=</span><span class="str">"text"</span> <span class="attr">autocomplete=</span><span class="str">"off"</span> <span class="attr">name=</span><span class="str">"page"</span> <span class="attr">class=</span><span class="str">"sm"</span>/<span class="tag">></span>页<br>        <span class="tag">&lt;button</span> <span class="attr">type=</span><span class="str">"submit"</span> <span class="attr">class=</span><span class="str">"btn sm primary"</span><span class="tag">></span>确定<span class="tag">&lt;/button</span><span class="tag">></span><br>      <span class="tag">&lt;/form</span><span class="tag">></span><br>    <span class="tag">&lt;/li</span><span class="tag">></span><br>  <span class="tag">&lt;/ul</span><span class="tag">></span><br><span class="tag">&lt;/script</span><span class="tag">></span></pre></div></div>